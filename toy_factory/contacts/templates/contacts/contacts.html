{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/contacts.css' %}">

<div class="preloader-overlay">
    <div class="figure-preloader-container">
        <div class="preloader-part left"></div>
        <div class="preloader-part right"></div>
    </div>
    <p>Загрузка данных...</p>
</div>

<div class="container">
    <h1>Контакты сотрудников</h1>

    <div class="search-panel" style="margin-bottom: 20px;">
        <input type="text" id="searchInput" placeholder="Введите текст для поиска..." style="padding: 5px; width: 200px;">
        <button id="searchBtn" class="btn">Найти</button>
    </div>

    <button id="toggleFormBtn" class="btn-primary" style="margin-bottom: 10px;">Добавить сотрудника</button>

    <div id="addFormBlock" class="form-container hidden">
        <h3>Новый сотрудник</h3>
        <div class="form-group"><input type="text" id="addName" placeholder="ФИО"></div>
        <div class="form-group"><input type="text" id="addDesc" placeholder="Описание работ"></div>
        <div class="form-group"><input type="text" id="addEmail" placeholder="Почта"></div>
        <div class="form-group"><input type="text" id="addPhone" placeholder="Телефон (8029... или +375...)"></div>
        <div class="form-group"><input type="text" id="addImageUrl" placeholder="URL фото (http... .php/.html)"></div>

        <p id="validationMsg" class="msg-box" style="color: red; min-height: 20px;"></p>
        <button id="addEmployeeBtn" disabled>Добавить в таблицу</button>
    </div>

    <table id="contactsTable" border="1" style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr>
                <th>Выбор</th>
                <th data-column="name" class="sortable" style="cursor: pointer;">ФИО <span class="sort-indicator"></span></th>
                <th data-column="description" class="sortable" style="cursor: pointer;">Описание <span class="sort-indicator"></span></th>
                <th>Фото</th>
                <th data-column="phone" class="sortable" style="cursor: pointer;">Телефон <span class="sort-indicator"></span></th>
                <th data-column="email" class="sortable" style="cursor: pointer;">Почта <span class="sort-indicator"></span></th>
            </tr>
        </thead>
        <tbody id="tableBody">
            </tbody>
    </table>

    <div id="pagination" class="pagination" style="margin-top: 10px;"></div>

    <div id="detailsBlock" class="details-box hidden" style="border: 1px solid #ccc; padding: 10px; margin-top: 20px;">
        <h3>Детали сотрудника</h3>
        <div id="detailsContent"></div>
    </div>

    <div class="bonus-panel" style="margin-top: 20px;">
        <button id="bonusBtn">Премировать выбранных</button>
        <p id="bonusResult"></p>
    </div>
</div>

<script src="{% static 'js/contacts.js' %}"></script>
{% endblock %}